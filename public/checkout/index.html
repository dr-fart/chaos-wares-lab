<!DOCTYPE html>
<html lang="en-us">
<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Checkout - Chaos Wares</title>
    <meta name="description" content="Complete your order">
    
    
    <link rel="icon" type="image/x-icon" href="../favicon.ico">
    <link rel="icon" type="image/svg+xml" href="../favicon.svg">
    
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Poppins:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    
    
    <link rel="stylesheet" href="../css/main.css">
    
    
</head>
<body>
    <header class="header">
    <nav class="navbar">
        <div class="nav-container">
            <a href="../" class="nav-logo">
                <canvas id="chaos-logo" width="40" height="40"></canvas>
                <span class="logo-text">Chaos Wares</span>
            </a>
            
            <ul class="nav-menu">
                <li><a href="../about" class="nav-link">About</a></li>
                <li><a href="../products" class="nav-link">Products</a></li>
                <li><a href="../explore" class="nav-link">Explore</a></li>
                <li><a href="../support" class="nav-link">Support</a></li>
                <li><a href="../login" class="nav-link">Login</a></li>
                <li><a href="../cart" class="nav-link cart-link">
                    Cart (<span id="cart-count">0</span>)
                </a></li>
            </ul>
            
            <div class="hamburger">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </div>
    </nav>
</header>

    
    <main>
        
<div class="container">
    <div class="page-header">
        <h1>Checkout</h1>
    </div>
    
    <div class="checkout-container">
        <div class="cart-summary">
            <h2>Order Summary</h2>
            <div class="cart-items" id="checkout-cart-items">
                
            </div>
            <div class="cart-total" id="checkout-cart-total">
                Total: $0.00
            </div>
        </div>
        
        <div class="form-container">
            <h2>Payment Information</h2>
            <form id="checkout-form">
                <div class="form-group">
                    <label for="card-number">Credit Card Number</label>
                    <input type="text" id="card-number" name="cardNumber" placeholder="1234 5678 9012 3456" required>
                </div>
                <div class="form-group">
                    <label for="expiry">Expiry Date</label>
                    <input type="text" id="expiry" name="expiry" placeholder="MM/YY" required>
                </div>
                <div class="form-group">
                    <label for="cvc">CVC</label>
                    <input type="text" id="cvc" name="cvc" placeholder="123" required>
                </div>
                <button type="submit" class="btn cta-button">Place Order</button>
            </form>
        </div>
    </div>
</div>

    </main>
    
    <footer class="footer">
    <div class="footer-container">
        <div class="footer-content">
            <div class="footer-section">
                <h3>Chaos Wares</h3>
                <p>Curated Curiosities for the Inquisitive Mind</p>
                <div class="footer-logo">
                    <svg width="30" height="30" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
                        <defs>
                            <linearGradient id="footerWaveGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                                <stop offset="0%" style="stop-color:#00F5D4;stop-opacity:1" />
                                <stop offset="100%" style="stop-color:#FF7B00;stop-opacity:1" />
                            </linearGradient>
                        </defs>
                        <circle cx="30" cy="40" r="20" fill="none" stroke="url(#footerWaveGradient)" stroke-width="2" opacity="0.8"/>
                        <circle cx="70" cy="60" r="15" fill="none" stroke="url(#footerWaveGradient)" stroke-width="2" opacity="0.6"/>
                        <circle cx="50" cy="50" r="4" fill="#00F5D4"/>
                        <path d="M20,20 Q50,30 80,40" fill="none" stroke="#00F5D4" stroke-width="1" opacity="0.5"/>
                        <path d="M20,80 Q50,70 80,60" fill="none" stroke="#FF7B00" stroke-width="1" opacity="0.4"/>
                    </svg>
                </div>
            </div>
            
            <div class="footer-section">
                <h4>Quick Links</h4>
                <ul>
                    <li><a href="../about">About Us</a></li>
                    <li><a href="../products">Products</a></li>
                    <li><a href="../support">Support</a></li>
                </ul>
            </div>
            
            <div class="footer-section">
                <h4>Contact</h4>
                <p>Transform your space with physics-inspired art</p>
                <p>Email: hello@chaoswares.com</p>
            </div>
        </div>
        
        <div class="footer-bottom">
            <p>&copy; 2025 Chaos Wares. All rights reserved.</p>
        </div>
    </div>
</footer>

    
    
    <script src="../js/main.js"></script>
    
<script>

function loadCart() {
    const cart = JSON.parse(localStorage.getItem('cart') || '[]');
    const cartItemsContainer = document.getElementById('checkout-cart-items');
    const cartTotalElement = document.getElementById('checkout-cart-total');
    
    if (cart.length === 0) {
        cartItemsContainer.innerHTML = '<p>Your cart is empty.</p>';
        cartTotalElement.textContent = 'Total: $0.00';
        return;
    }
    
    let total = 0;
    cartItemsContainer.innerHTML = '';
    
    cart.forEach(item => {
        const itemTotal = item.price * item.quantity;
        const cartItem = document.createElement('div');
        cartItem.className = 'cart-item';
        cartItem.innerHTML = `
            <div class="cart-item-info">
                <h4>${item.name}</h4>
                <p>SKU: ${item.sku}</p>
                <p>Quantity: ${item.quantity}</p>
            </div>
            <div class="cart-item-price">$${itemTotal.toFixed(2)}</div>
        `;
        cartItemsContainer.appendChild(cartItem);
        total += itemTotal;
    });
    
    cartTotalElement.textContent = `Total: $${total.toFixed(2)}`;
}


document.getElementById('checkout-form').addEventListener('submit', async function(e) {
    e.preventDefault();
    
    const cart = JSON.parse(localStorage.getItem('cart') || '[]');
    
    if (cart.length === 0) {
        alert('Your cart is empty!');
        return;
    }
    
    const formData = {
        items: cart,
        payment: {
            cardNumber: document.getElementById('card-number').value,
            expiry: document.getElementById('expiry').value,
            cvc: document.getElementById('cvc').value
        }
    };
    
    try {
        const response = await fetch('/api/v1/cart/checkout', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
            },
            body: JSON.stringify(formData)
        });
        
        if (response.ok) {
            alert('Order placed successfully!');
            localStorage.removeItem('cart');
            updateCartCount();
            window.location.href = '/';
        } else {
            alert('Checkout failed. Please try again.');
        }
    } catch (error) {
        console.error('Checkout error:', error);
        alert('Checkout request failed. Please try again.');
    }
});


document.addEventListener('DOMContentLoaded', loadCart);
</script>

</body>
</html>
